<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>jQuery 공작소 : 음식 무한 복제</title>
<meta name="author" content="jQuery 공작소">
<link rel="stylesheet" type="text/css" href="http://superkts.com/jquery/core.css">
<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>

<style type="text/css">
	.wrapper { padding:0 !important; margin-bottom:30px; }
	.wrapper .contents .ex .e { padding-top:50px; }
	.wrapper .contents .ex .url { font-size:12pt; text-align:center; margin-bottom:10px; }
</style>

<div class="wrapper">
	<h1>음식 무한 복제</h1>
	<div class="contents">
		<div class="ex">
			<div class="url"><a class="link2" href="http://superkts.com/jquery/@ShowMeTheFood" target="_blank">▶ jQuery 공작소에서 보기</a></div>
			<div class="t2">음식 복제하기</div>
			<div class="e ac">


<!-- 소스 시작 -->

<style type="text/css">
	.css_test {
		text-align:center;
	}
	.css_test img {
		position:relative;
	}
</style>

음식을 누르면 복제가 됩니다. 복제된 음식도 누르면 다시 복제됩니다.<br>
복제된 음식은 3초후 사라집니다. (움직임이 끝난 후)<br><br>

<div class="css_test">
	<img class="cp" style="z-index:999;" src="http://superkts.com/img/icon/food/food09[1].gif" onclick="j_test(this)" />
</div>

<script type="text/javascript">

	function j_test(o){

		var pos  = $(o).offset(); // 클릭한 이미지의 위치알아내기
		// 이동할 위치값을 랜덤으로 생성 -150 부터 150 사이
		var rnd1  = Math.round( Math.random() * 300 - 150 );
		var rnd2 = Math.round( Math.random() * 300 - 150 );

		// 클릭한 이미지 기준으로 이동할 위치계산
		var move_top = pos.top - rnd1;
		var move_left = pos.left - rnd2;

		// 보기편하게 여러줄 코딩
		$(o)
		.clone() // 클릭한 이미지 복제
		.appendTo( '.css_test' ) // css_test 에 복제한것 추가
		.css({ top : pos.top, left : pos.left, position:'absolute' }) // 위치설정과 position 설정 변경
		.animate( { top : move_top, left : move_left }, 1000, 'easeOutElastic', function(){
			var img = this; // setTimeout 에서 사용하기 위해 지역변수로 만들기
			setTimeout( function(){ $(img).remove(); }, 3000); // 3초후 제거
		});
	}

</script>

<!-- 소스 종료 -->


			</div>
		</div>
		<div class="ac">
			<a href="http://superkts.com/jquery/" target="_blank">jQuery 공작소</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<a href="http://superkts.com/css/" target="_blank">CSS 공작소</a>
		</div>
	</div>
</div>

</body>
</html>